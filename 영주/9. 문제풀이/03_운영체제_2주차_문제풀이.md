# 운영체제 2주차 공식문제

> 05월 04일 화요일 자정까지

<br>

1. 시스템 콜(System call)이란 무엇인지 한 줄로 작성하고, 시스템 콜이 발생하는 과정에 대해 작성하시오.

   - 시스템 콜이란 사용자 프로그램이 입출력과 같은 운영체제의 권한이 필요한 업무를 해야할 때, CPU 제어권을 운영체제에게 이양하는 것을 말한다.
   - 사용자 프로그램이 입출력 과정이 필요한 경우, 시스템 콜을 통해 커널(운영체제)의 함수를 호출한다. 입출력 함수의 호출은 운영체제의 보안에 의해 사용자 프로그램에서 실행할 수 없기 때문이다. 시스템 콜을 할 때는, 사용자 프로그램은 CPU의 인터럽트 라인에 인터럽트를 발생시킨다. CPU는 인터럽트를 확인하고 모드 비트를 커널 모드로 바꾼다. 이제 CPU가 운영체제에게 이양되었으므로, 운영체제는 입출력 컨트롤러에게 입출력 데이터를 받을 것을 요청한다. 입출력 컨트롤러는 IO 장치에게 데이터를 받아 로컬 버퍼에 넣는다. 데이터를 받는게 완료 되면 컨트롤러는 CPU에 인터럽트를 발생시키고, 입출력이 완료되었음을 알린다. 로컬 버퍼에 있는 내용을 메모리로 복사한 후, 해당 데이터를 요청했던 사용자 프로그램에게 다시 CPU가 이양된다.
     <br>

2. 프로세스 제어 블록(PCB)란 무엇이고, 어떤 역할을 하는가?

   - 운영체제 내의 `현재 실행되는 프로세스에 대한 프로그램 카운터, 레지스터 등의 정보를 가지고 있는 자료구조`를 말한다.
   - 현대 운영체제는 시분할 시스템이므로, 하나의 CPU에서 여러 프로세스가 조각 조각으로 실행된다. 따라서 인터럽트가 발생하였을 때 다른 프로세스에게 CPU가 이양된다면, 원래 프로세스를 얼마나 실행하였는지, 어떤 데이터를 가지고 있는지에 대한 정보를 저장할 필요가 있다. 따라서 다른 프로세스에게 CPU가 이양될 때, 운영체제는 PCB를 통해서 원래 프로세스의 정보를 잠시 저장해두게 된다. 일종의 북마크이다.
     <br>

3. mode bit가 필요한 이유와 mode bit로 구분할 수 있는 두 가지 경우에 대해 설명하세요.

   - 현대 운영체제는 다중 프로그래밍을 지원하므로, 하나의 프로그램이 다른 프로그램의 실행을 방해할 수 있다. 따라서 각 프로그램은 어느 정도의 명령까지 수행할 수 있는지 그 범위를 지정해야하고, 이를 운영체제의 보안이라고 칭한다. 모드 비트는 커널모드와 사용자 모드로 나누어, 사용자 프로그램이 실행될 때는 사용자모드, 운영체제가 실행될 때는 커널모드로 나누었다. 따라서 사용자 프로그램과 운영체제가 할 수 있는 권한을 분리하여 보안을 확보한다.
   - 모드비트가 0일 때는 커널모드로, 운영체제에게 CPU가 이양된 것을 말하며 이때는 모든 명령을 수행할 수 있다.
   - 모드비트가 1일 때는 사용자 모드로, 사용자 프로그램에 CPU가 이양된 것을 말하며, 제한된 명령만 수행할 수 있다.

   <br>

4. DMA(Direct Memory Access)로 얻을 수 있는 장점에 대해서 설명하세요.

   - 운영체제는 인터럽트에 의해서 진행된다고 할 정도로, 인터럽트에 의해 프로세스가 실행되고 잠시 멈춰지고 종료된다. 따라서 CPU에 수많은 인터럽트가 발생하는데, 인터럽트라는 것이 CPU의 동작을 멈추는 것이기 때문에 너무 많은 인터럽트의 발생은 CPU 속도 저하를 야기한다. 따라서 DMA라는 중간 컨트롤러를 두어 입출력 장치들의 인터럽트를 대신 받아주는 역할을 수행시킨다.
   - DMA는 바이트 단위가 아니라 블록이라는 큰 단위로 정보를 읽어온 다음, CPU에게 인터럽트가 처리되었음을 알린다. 따라서 기존에 CPU가 일일히 바이트 단위로 인터럽트를 받던 것을, DMA가 대신 처리해 줌으로써 인터럽트에 의한 정지의 빈도가 많이 줄어드는 것이다.

   <br>

5. 컴퓨터 시스템 구조에서 timer라는 하드웨어가 필요한 이유에 대해 설명해 보세요. (timer는 무슨 역할을 하는지)

   - 현대 운영체제는 시분할 시스템으로, 하나의 프로세스가 CPU를 독점하는 것이 아니라, 일정한 우선순위에 의해 여러 프로세스가 돌아가면서 CPU를 점유하게 된다. 그런데, 하나의 프로세스가 너무 많은 시간동안 CPU를 점유하고 있으면 전체적인 시간의 효율성이 매우 떨어지게 된다. 따라서 timer라는 하드웨어를 두어 정해진 시간이 지나면 인터럽트를 발생시켜서 해당 프로세스를 잠시 멈추고 다른 프로세스를 먼저 실행하게 한다. 멈춘 프로세스는 대기 라인의 맨 뒤로 이동하여, 다음에 다시 실행된다.

   <br>

6. synchronous I/O와 asynchronous I/O 동작에는 어떤 차이가 있는지 설명해 보세요

   - 동기식 입출력은 어느 하나의 프로그램이 입출력 작업을 요청했을 때, 해당 입출력 작업이 완료되어야만 다음 프로그램을 실행할 수 있는 것을 의미한다. 즉 프로그램이 입출력 작업을 요청하여 인터럽트가 발생하고, 입출력 데이터를 받아 로컬버퍼에 넣고, 그것을 메모리로 복사한 다음 해당 프로그램을 종료할 때 까지, 다른 프로그램을 실행할 수 없는 것을 의미한다. 이때는 최대한의 효율성을 위해서, 입출력을 받아오는 빈 시간동안, 해당 프로그램의 다른 업무(입출력과 상관없는)를 실행한다.
   - 반면 비동기식 입출력은 하나의 프로그램이 입출력 작업에 대해 처리하는 동안, CPU를 다른 프로그램에게 이양하여, 빈 시간동안 다른 프로그램을 실행하는 것을 의미한다. 그리고 입출력 작업이 끝나면, 인터럽트를 발생시켜서 다시 원래 프로그램에게 CPU의 제어권을 넘긴다.
   - 결론적으로 동기식과 비동기식은, 입출력 처리과정에 의해 발생하는 빈 시간에 다른 프로그램을 실행할 수 있는가 없는가에 의해 나눠질 수 있다.