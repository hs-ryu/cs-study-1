# HTTP 1주차 공식문제

> 기한은 04월 13일 화요일 자정까지!
>
> 일단 보지 않고 생각나는 대로 적어보고, 강의자료를 보면서 부족한 부분을 메꾸는 방식으로 작성하면 좋다.

<br>

### 1. 인터넷 네트워크

- IP 만으로는 한계를 가지는데, 어떤 한계를 가지는가?

  > IP는 클라이언트와 서버가 통신하기 위한 출발지와 목적지 정보를 가지고 있다. 따라서 어디서 출발하고 어디로 도착해야하는지 정보를 가지고 있기 때문에, 패킷을 올바른 곳에 전달 할 수 있다. 하지만 IP는 비연결성이기 때문에, 중간에 통신이 불량인지와는 상관없이 일단 목적지로 패킷을 보낸다. 그리고 중간에 패킷이 소실되거나 순서대로 오지 않을 수 있다는 한계점이 있다. 마지막으로 여러 애플리케이션을 사용할 때, 각각의 애플리케이션을 구분해 줄 방법이 없다.

- TCP의 3-way handshake란 무엇인가? 그리고 3-way handshake를 통해서 IP의 어떤 한계점을 극복할 수 있는가?

  > 3-way handshake란 클라이언트가 서버와 통신을 하려할 때, 연결되어 있는지 알아보기 위한 일종의 테스트라고 할 수 있다. 먼저 클라이언트가 SYN을 서버에게 보내면, 서버는 그에 대한 응답으로 ACK와 함께 다시 SYN을 같이 보낸다. 그러면 클라이언트는 그에 대한 응답으로 ACK를 보내는데, 이때 요청 데이터도 함께 보낼 수 있다. 즉 3-way handshake는 연결지향의 특성을 가지며, IP의 비연결성이라는 한계를 극복할 수 있다. 먼저 클라이언트와 서버가 연결이 되었는지 확인을 하고 그 다음에 데이터를 주고 받기 때문이다.

<br>

### 2. URL 요청 흐름

- URI는 무엇인가? URL과는 어떤 차이점이 있는가?

  > URI란 특정 리소스(자원)을 구별하는 일종의 통일된 방식이라고 할 수 있다. URI는 URL과 URN으로 나뉜다. URL은 말그대로 Locator로써, 자원의 위치를 통해서 식별하는 것을 말하고, URN은 말 그대로 Name으로써, 자원의 고유한 이름을 통해서 식별하는 것을 말한다. 결론적으로 URI와 URL은 동일하진 않고, 포함관계이다. 하지만 URN을 거의 사용하지 않으므로, 통상적으로 URI와 URL은 비슷한 개념으로 사용된다.

- `https://www.google.com:443/search?q=hello&hl=ko`을 검색했을 때, 웹 브라우저의 요청 흐름에 대해서 설명하라.
  
  - 이 부분은 외워서 푼다기 보다는, 강의자료를 보면서 따라 치더라도 큰 흐름을 다시 한번 상기시키는 목적이 크다.
  
  > 1. 해당 URL을 검색하면, 일단 DNS 서버에서 구글 서버의 IP를 찾는다.
  > 2. 그 다음 브라우저는 HTTP 요청 메시지를 생성한다. (GET방식, HTTP 1.1 버전, HOST는 구글)
  > 3. SOCKET 라이브러리를 통해 TCP/IP 계층으로 전달된다.
  > 4. 그 과정에서 3-way handshake를 통해 일단 구글 서버와의 연결을 확인한다.
  > 5. 그리고 TCP와 IP 계층을 거치며, 각각의 패킷이 덧씌워진다. (출발지, 목적지 정보, PORT 정보 등등)
  > 6. 인터넷의 수많은 노드들을 통해 패킷을 서버로 전달한다.
  > 7. 구글 서버가 해당 패킷을 받으면, TCP/IP 패킷 정보는 벗기고, 안의 데이터를 전달받는다.
  > 8. 구글 서버는 HTTP 메시지를 해석하여 검색에 대한 결과 데이터를 응답한다.
  > 9. 응답 시에도 똑같이 HTTP 응답 메시지를 생성한다. (HTTP 1.1버전, 상태코드 200, 컨텐트 종류, 길이, body 등)
  > 10. 이 응답 메시지는 똑같이 TCP/IP 패킷이 덧씌워지고 클라이언트에게 또 수많은 노드를 통해 전달된다.
  > 11. 클라이언트는 HTTP 응답 메시지를 얻기 위해, TCP/IP 패킷을 벗겨내고 안에 담긴 데이터를 전달받는다.
  > 12. 사용자는 해당 결과를 브라우저를 통해 보게 된다.

<br>

### 3. HTTP 기본

- Stateless에 대해 Stateful과의 차이점을 위주로 설명하라. (이론적으로 설명해도 좋고, 예시를 들어 설명해도 좋다.)

  > 강의 예시대로 설명을 들으면, 일단 Stateful 즉 상태지향 상태에서는 서버가 클라이언트의 이전 상태를 계속 알고 있는 것을 의미한다. 클라이언트가 손님이고, 서버가 점원이라고 가정했을 때, 손님은 점원이 자신의 이전 상태를 계속 알고 있다고 생각하기 때문에, 점원이 바뀌더라도 이전의 정보를 새로 주지 않는다. 따라서 점원이 바뀌었을 때, 혼동이 올 수 있다.

  > Stateless 무상태지향 상태에서는 서버가 클라이언트의 이전 상태를 모른다는 것을 의미한다. 따라서 손님은 점원이 바뀔 때마다 이전의 정보를 포함한 모든 정보를 계속 새로 제공한다. 따라서 점원이 계속 바뀌더라도, 손님이 모든 정보를 새로 주기 때문에 혼동이 발생하지 않는다. 이러한 Stateless는 많은 정보가 계속 왔다갔다 해서 무겁다는 단점이 있으나, 서버의 확장성을 마련할 수 있다는 아주 큰 장점이 있다. 즉 서버가 클라이언트의 상태를 알고 있다고 가정하는 Stateful에서는 서버를 늘리려해도, 새로 늘려진 서버들은 이전 정보를 모르기 때문에 쓸모가 없다. 따라서 Stateless 환경에서는 서버가 새로 들어와도 사용가능하므로 서버를 무한대로 증설이 가능하다는 장점이 있다.

- 비연결성에 대해 간단히 설명하고, 위에 나왔던 Stateless와 비연결성이 통신 시 어떤 장점을 가져다 주는지도 설명하라.

  > 비연결성은 서버과 클라이언트가 연결을 한 다음, 바로 연결을 끊는 것을 의미한다. 추가적인 시간이 소모되고 자원도 많이 소모된다는 단점이 있지만, 현실에서는 하나의 서버에 엄청나게 많은 클라이언트가 존재하므로, 비연결성은 불필요한 자원의 소모를 많이 감소시켜 준다. 

<br>

### 4. HTTP 메서드

- PUT과 POST의 차이점은 무엇인가?

  > PUT은 리소스를 대체할 때 사용하는 메서드이고, POST는 리소스를 생성할 때 사용한다. 따라서 URI에서 차이가 나는데, PUT은 특정 리소스를 지정하여 해당 데이터 전체를 변경한다. `PUT /articles/1` 이라고 한다면, articles에서 1번 article을 변경하겠다는 의미이다. 하지만 `POST /articles/` 라고하면 articles에 새로운 article을 생성하겠다는 의미이다. 이렇게 특정 리소스를 URI에 지정하냐, 하지 않냐의 차이가 있다.

- 멱등이라는 개념에 대해 간략히 적어보고, 어떤 메서드가 멱등에 해당하는지 그 이유와 함께 간단하게 적어보아라.

  > 멱등은 한 번 호출하든, 그 이상을 몇 번을 호출하든 항상 결과값이 같은 것을 의미한다. 우리가 인터넷 홈페이지에서 새로고침을 아무리 많이 눌러도, 항상 그 결과가 똑같이 나오는 것과 비슷하다고 생각하면 된다.
  >
  > GET, PUT, DELETE가 멱등 메서드에 해당한다. GET은 조회 기능이므로 위에서 말했던 새로고침과 비슷하다. 같은 페이지를 몇 번을 불러와도 실시간 변경 웹페이지가 아닌 이상 같은 페이지를 반환할 것이다. PUT은 데이터 자체를 변경하는 기능이다. 따라서 한 번 결과를 변경한 후, 그 다음에 똑같은 요청을 계속 보내도 변경된 결과 그대로를 반환할 것이다. 마지막으로 DELETE는 데이터를 삭제하는 기능인데, 이 역시 한 번 삭제한 다음, 계속 똑같은 삭제를 해도 결국에는 삭제된 상태 그 자체를 계속 반환할 것이므로 멱등메서드라고 할 수 있다.

  > p.s : POST는 멱등이 아니다. 왜냐면 데이터를 생성하는 메서드인데, 여러 번 호출하면 그 때마다 새로운 데이터가 생성되기 때문이다.