# 운영체제 9주차 공식문제

> 06월 27일 화요일 자정까지

<br>

1. 페이지 부재(Page Fault)란 무엇인지 정의하고, 페이지 부재를 처리하는 과정을 서술하라.
   - `page fault`는 CPU가 참조하려는 페이지가 현재 메모리에 존재하지 않는 경우를 의미한다. 
     - 프로세스에 대한 내부테이블을 검사해서 그 메모리 참조가 유효/무효 인지 알아 낸다.
     - 무효한 페이지에 대한 참조라면 프로세스는 중단된다. 유효한 참조인 경우 메모리에 없으면 디스크로부터 가져와야 한다.
     - 빈 공간, 즉 비어있는 프레임을 찾는다.
     - 디스크에 새로이 할당된 프레임으로 해당 페이지를 읽어 들이도록 요청
     - 디스크 읽기가 끝나면 이 페이지가 메모리에 있다는 것을 알리기 위해 페이지 테이블을 갱신하며 프로세스가 유지되고 있는 내부테이블을 수정한다.
     - 트랩에 의해 중단되었던 명령을 다시 수행하며 프로세스는 그 페이지가 항상 메모리에 있엇던 것처럼 간주하여 해당 페이지를 접근할 수 있다.
2. LRU 알고리즘과 LFU 알고리즘은 각각 어떤 자료구조를 통해 구현하는 것이 좋은가? 그 이유도 함께 작성하라.
   - `LRU(Least Recently Used)`는 연결리스트를 통해서 구현할 수 있다. 페이지를 참조할 때마다 해당 페이지를 리스트의 가장 뒤쪽으로 이동시키고, 교체할 때는 리스트의 가장 앞 페이지를 교체하면 된다.
   - `LFU(Least Frequently Used)`는 연결리스트로 구현하게 되면 참조 횟수별로 계속 정렬을 해줘야 하기 때문에 비효율적이다. 따라서 힙을 통해 구현을 한다. 힙은 페이지의 삽입/삭제 시 자동으로 정렬되기 때문에 효율적인 자료구조이다.
3. Frame의 크기가 `4`이고, Reference string이 `1,2,3,4,1,2,5,1,2,3,4,5`가 주어졌을때,
   LRU 알고리즘과 FIFO 알고리즘으로 페이지 부재가 몇번 일어나는지 각 알고리즘의 개념과 함께 설명하라.
   - LRU 알고리즘 : 가장 오래 사용하지 않은 페이지를 지운다.
     - 1
     - 1, 2
     - 1, 2, 3
     - 1, 2, 3, 4
     - 1, 2, 3, 4
     - 1, 2, 3, 4
     - 1, 2, **5**, 4 : `페이지 부재`
     - 1, 2, 5, 4
     - 1, 2, 5, 4
     - 1, 2, 5, **3** : `페이지 부재`
     - 1, 2, **4**, 3 : `페이지 부재`
     - **5**, 2, 4, 3 : `페이지 부재`
   - FIFO 알고리즘 : 먼저 참조된 페이지를 먼저 지운다.
     - 1
     - 1, 2
     - 1, 2, 3
     - 1, 2, 3, 4
     - 1, 2, 3, 4
     - 1, 2, 3, 4
     - **5**, 2, 3, 4 : `페이지 부재`
     - 5, **1**, 3, 4 : `페이지 부재`
     - 5, 1, **2**, 4 : `페이지 부재`
     - 5, 1, 2, **3** : `페이지 부재`
     - **4**, 1, 2, 3 : `페이지 부재`
     - 4, **5**, 2, 3 : `페이지 부재`
4. 스레싱(Thrashing)이란 무엇인지 정의하고, 스레싱이 발생하는 과정을 서술하라.
   - 프로세스가 정상적으로 수행되기 위해서는 일정 수준 이상의 페이지 프레임을 할당받아야 하는데, 필요한 최소한의 페이지 프레임을 할당받지 못한 경우 문제가 발생한다. 자주 사용되는 페이지들이 메모리에 적재되어있지 않다면 page fault가 과도하게 발생하게 되고, CPU의 이용률이 급격하게 떨어지게 된다. 이러한 경우를 Trashing이라고 한다.

