## 1. 데이터베이스 시스템의 정의

- 데이터베이스 시스템 : 데이터베이스에 데이터를 저장하고, 저장된 데이터를 관리하여 조직에 필요한 정보를 생성해주는 시스템. 다양한 목적의 정보처리 시스템을 구축하는데 필요한 핵심 요소가 됨.
- 데이터베이스 : 데이터를 저장해두는곳
- 데이터베이스 관리 시스템 : 데이터베이스에 저장된 데이터가 일관되고 무결한 상태로 유지되도록 괸리하는 역할.
- 데이터베이스 시스템 : 데이터베이스와 데이터베이스 관리 시스템을 이용해 조작에 필요한 정보를 제공해주는 전체 시스템.







## 2. 데이터베이스의 구조

#### 스키마

- 스키마 : 데이터베이스에 저장되는 데이터 구조와 제약 조건을 정의한 것.
- 인스턴스 : 정의된스키마에 따라 데이터베이스에 실제로 저장된 값.
- 스키마는 한번 정의되면 자주 변경되지 않지만, 인스턴스는 계속 변하는 특성이 있음.

#### 3단계 데이터베이스 구조

1. 3단계 데이터베이스 구조의 개념

- 데이터베이스 하나를 세 단계 (외부단계, 개념 단계, 내부 단계)로 나누고, 각 단계별로 다른 추상화를 제공하면 데이터베이스를 효과적으로 관리할 수 있다. 3단계 데이터베이스 구조를 통해, 모든 데이터의 저장,유지와 관련된 복잡한 내용을 숨기고 필요한 데이터만 단순화한 외부 단계의 관점을 일반 사용자들에게 제공할 수있다.

2. 외부단계 (external level)

- 외부단계에서는 개별 사용자 관점에서 데이터베이스를 이해하고 표현한다.
- 외부 단계에서는 개별 사용자가 데이터베이스를 어떻게 보는가를 표현하므로 사용자마다 생각하는 데이터베이스의 구조가 다르다. 이처럼 외부 단계에서 사용자에게 필요한 데이터베이스를 정의한 것을 외부 스키마라 한다.
- 데이터베이스 하나에는 외부 스키마(external schema)가 여러 개 존재할 수 있고, 외부 스키마 하나를 사용 목적이 같은 사용자들이 공유할 수 있다.

3. 개념단계 (conceptual level)

- 개념단계에서는 데이터베이스를 이용하는 사용자들의 관점을 통합하여, 데이터베이스를 조직 전체의 관점에서 이해하고 표현함.
- 개념 단계에서는 데이터베이스 관리 시스템이나 관리자의 관점에서 모든 사용자에게 필요한 데이터를 통합하여 전체 데이터베이스의 논리적 구조를 정의한다. 이를 개념 스키마 (conceptual schema)라고 한다.
- 개념 스키마는 조직 전체의 관점에서 생각하는 데이터베이스의 모습이며, 모든 개별 사용자가 생각하는 데이터베이스의 모습을 하나로 합친 형태이다.

4. 내부 단계 (internal level)

- 내부 단계에서는 데이터베이스를 디스크나 테이프 같은 저장장치의 관점에서 이해하고 표현한다.
- 즉, 내부 단계에서는 전체 데이터베이스가 저장 장치에 실제로 저장되는 방법을 정의하며 이를 내부 스키마(internal schema)라고 한다.
- 내부 스키마는 파일에 데이터를 저장하는 레코드의 구조, 레코드를 구성하는 필드의 크기, 인덱스를 이용한 레코드 접근 경로 등을 정의한다.



#### 데이터 독립성

- 데이터베이스를 3단계 구조로 나누고, 단계별로 스키마를 유지하며 스키마 사이의 대응 관계를 정의하는 궁극적인 목적은 데이터 독립성 (data independency)을 실현하기 위해서이다.
- 데이터 독립성은 데이터베이스 관리 시스템의 중요한 장점이자 데이터베이스 관리 시스템이 필요한 이유이기도 하다.
- 데이터 독립성은 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성이다.

1. 논리적 데이터 독립성

- 논리적 데이터 독립성은 개념 스키마가 변경되더라도 외부 스키마가 영향을 받지 않는 것이다.
- 즉 이것은 외부 스키마의 사용자가 전체 데이터베이스의 논리적 구조가 변경되었다는 사실을 알 필요가 없음을 의미함.

2. 물리적 데이터 독립성.

- 물리적 데이터 독립성은 내부 스키마가 변경되더라도 개념 스키마가 영향을 받지 않는 것이다.
- 결과적으로 외부 스키마도 영향을 받지 않는다.
- 데이터베이스의 저장 구조가 변경되어도 논리적 구조는 영향을 받지 않음.



#### 데이터 사전

- 데이터 사전 : 데이터베이스에 저장되는 데이터에 관한 정보를 저장하는 곳.
- 시스템 카탈로그, 메타데이터 라고도 함.





## 3. 데이터베이스 사용자

#### 데이터베이스 관리자

- 데이터베이스 관리자는 데이터베이스 시스템을 운영 관리한다.
- 데이터베이스를 직접 활용하기 보다는 조직 내의 사용자를 위해 데이터베이스를 설계 및 구축하고, 제대로 서비스할 수 있도록 데이터베이스를 제어한다.
- 데이터베이스 관리자의 주요 업무
  - 데이터베이스 구성 요소 선정
  - 데이터베이스 스키마 정의
  - 물리적 저장 구조와 접근 방법 결정
  - 무결성 유지를 위한 제약 조건 정의
  - 보안 및 접근 권한 정책 결정
  - 백업 및 회복 기법 정의
  - 시스템 데이터베이스 관리
  - 시스템 성능 감시 및 성능 분석
  - 데이터베이스 재구성



#### 최종 사용자

- 데이터를 조작 (삽입,삭제,수정,검색)하기 위해 데이터베이스에 접근하는 사람들을 일반 사용자 혹은 최종 사용자라고 함.
- 캐주얼 사용자와 초보 사용자로 구분할 수 있음
  - 캐주얼 사용자 : 데이터베이스에 대한 이론적 지식이 있으며, 주로 데이터 조작어를 이용해 원하는 데이터와 데이터에 대한 처리를 데이터베이스 관리 시스템에 직접 설명함.
  - 초보 사용자 : 데이터베이스를 초보 수준으로 이용할 수 있어, 데이터 조작어로 자신의 요구를 직접 표현하기 보다는 메뉴나 GUI 형태의 응용 프로그램을 통해 데이터베이스를 사용함.



#### 응용 프로그래머

- c언어, 자바 등과 같은 프로그래밍 언어로 응용 프로그램을 작성할 때 데이터베이스에 접근하는 데이터 조작어를 삽입하는 사용자이다.
- 최종 사용자는 응용 프로그래머가 작성한 응용 프로그램을 이용해 데이터베이스에 접근할 수 있다.



## 4. 데이터 언어

- 데이터 언어는 사용자가 데이터베이스를 구축하고 이에 접근하기 위해 데이터베이스 관리 시스템과 통신하는 수단임.

#### 데이터 정의어

- 데이터 정의어는 새로운 데이터베이스를 구축하기 위해 스키마를 정의하거나 기존 스키마의 정의를 삭제 또는 수정하기 위해 사용하는 데이터 언어이다.
- 즉, 새로 만들려는 데이터베이스의 스키마를 설명하거나 이미 정의된 스키마의 구조나 제약 조건 등을 변경 또는 삭제하고 싶어 이를 데이터베이스 관리 시스템에 알릴 때 사용한다.
- 데이터 정의어로 정의된 스키마는 데이터 사전에 저장되고, 삭제나 수정이 발생하면 이 내용도 데이터 사전에 반영됨.



#### 데이터 조작어

- 사용자가 데이터의 삽입, 삭제, 수정, 검색 등의 처리를 데이터베이스 관리 시스템에 요구하기 위해 사용하는 데이터 언어다. 
- 데이터 정의어를 이용해 스키마를 정의하면 스키마에 따라 조직에 필요한 실제 데이터 값 (인스턴스)이 저장되는데, 사용자가 실제 데이터 값을 활용하기 위해 사용하는 것이 데이터 조작어다.
- 데이터 조작어는 설명 방식에 따라 절차적 데이터 조작어와 비절차적 데이터 조작어로 나눈다.
  - 절차적 데이터 조작어
    - 절차적 데이터 조작어는 사용자가 어떤 데이터를 원하고 해당 데이터를 얻으려면 어떻게 처리해야하는지 설명함
  - 비절차적 데이터 조작어
    - 비절차적 데이터 조작어는 사용자가 어떤 데이터를 원하는지만 설명함. 해당 데이터를 얻으려면 어떻게 처리해야하는지는 데이터베이스 관리 시스템에 맡김.



#### 데이터 제어어

- 데이터베이스에 저장된 데이터를 여러 사용자가 무결성과 일관성을 유지하며 문제없이 공유할 수 있도록, 내부적으로 필요한 규칙이나 기법을 정의하는데 사용하는 데이터 언어다.
- 사용자는 데이터베이스를 올바르게 관리하기 위해 필요한 규칙과 기법을 데이터 제어어를 이용해 데이터베이스 관리 시스템에 설명함.
- 데이터 제어어를 이용해 규칙이나 기법을 정의하는 이유는 다음과 같은 특성을 보장하기 위해서임.
  - 무결성 :데이터베이스에 정확하고 유효한 데이터만 유지함
  - 보안 : 허가받지 않은 사용자가 데이터에 접근하는 것을 차단하거나, 허가된 사용자가 접근 권한이 있는 데이터에만 접근할 수 있게 한다.
  - 회복 : 장애가 발생해도 데이터의 일관성을 유지한다.
  - 동시성 : 여러 사용자가 같은 데이터에 동시에 접근하여 처리할 수 있게 한다.



## 5. 데이터베이스 관리 시스템의 구성

- 데이터베이스 관리 시스템은 데이터 베이스 시스템의 주요 구성 요소이며, 기능에 따라 크게 질의 처리기와 저장 데이터 관리자로 구분할 수 있다.

#### 질의 처리기

- 질의 처리기는 사용자의 데이터 처리 요구를 해석하여 처리하는 역할을 담당하고, 다음의 주요 구성 요소들을 포함한다.
  - DDL 컴파일러 : 데이터 정의어로 작성된 스키마의 정의를 해석한다. 그리고 저장 데이터 관리자의 도움을 받아 새로운 데이터베이스를 구축하고, 스키마의 정의를 데이터 사전에 저장한다.
  - DML 프리 컴파일러 : 응용 프로그램에 삽입된 데이터 조작어를 추출하여 DML 컴파일러에 전달한다. 단, 데이터 조작어와 관련 없는 나머지 코드들은 해당 언어의 컴파일러에 보내진다.
  - DML 컴파일러 : 데이터 조작어로 작성된 데이터의 처리 (삽입, 삭제, 수정, 검색) 요구를 분석하여 런타임 데이터베이스 처리기가 이해할 수 있도록 해석한다.
  - 런타임 데이터베이스 처리기 : 저장 데이터 관리자를 통해 데이터베이스에 접근하여, DML 컴파일러로부터 전달받은 데이터 처리 요구를 데이터베이스에서 실제로 실행함.
  - 트랜잭션 관리자 : 데이터베이스에 접근하는 과정에서 사용자의 접근 권한이 유효한지를 검사하고, 데이터베이스 무결성을 유지하기 위한 제약조건 위반 여부를 확인함. 회복이나 병행 수행과 관련된 작업도 담당.

#### 저장 데이터 관리자

- 디스크에 저장된 데이터베이스와 데이터 사전을 관리하고, 여기에 실제로 접근하는 역할을 담당.
- 저장 데이터 관리자는 운영체제의 도움을 받아 데이터베이스에 대한 접근을 수행함.
